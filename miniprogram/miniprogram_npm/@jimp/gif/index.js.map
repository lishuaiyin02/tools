{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _omggif = _interopRequireDefault(require(\"omggif\"));\nvar _gifwrap = require(\"gifwrap\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst MIME_TYPE = \"image/gif\";\nvar _default = () => ({\n  mime: {\n    [MIME_TYPE]: [\"gif\"]\n  },\n  constants: {\n    MIME_GIF: MIME_TYPE\n  },\n  decoders: {\n    [MIME_TYPE]: data => {\n      const gifObj = new _omggif.default.GifReader(data);\n      const gifData = Buffer.alloc(gifObj.width * gifObj.height * 4);\n      gifObj.decodeAndBlitFrameRGBA(0, gifData);\n      return {\n        data: gifData,\n        width: gifObj.width,\n        height: gifObj.height\n      };\n    }\n  },\n  encoders: {\n    [MIME_TYPE]: data => {\n      const bitmap = new _gifwrap.BitmapImage(data.bitmap);\n      _gifwrap.GifUtil.quantizeDekker(bitmap, 256);\n      const newFrame = new _gifwrap.GifFrame(bitmap);\n      const gifCodec = new _gifwrap.GifCodec();\n      return gifCodec.encodeGif([newFrame], {}).then(newGif => {\n        return newGif.buffer;\n      });\n    }\n  }\n});\nexports.default = _default;\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;\n//# sourceMappingURL=index.js.map"]}